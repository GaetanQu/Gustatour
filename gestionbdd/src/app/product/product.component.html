<mat-card>
    <img mat-card-image [src]="'http://localhost:80/Gustatour/images/products/' + product.image_name" alt="Pas d'image, penser à en ajouter une">
    <button mat-button>Modifier l'image pour {{ product.name }}</button>
    <div class="line">
        <mat-form-field>
            <mat-label>Nom du produit:</mat-label>
            <input matInput type="text" [value]="product.name" [(ngModel)]="product.name">
        </mat-form-field>
        <mat-form-field>
            <mat-label>Prix</mat-label>
            <input matInput type="number" [(ngModel)]="product.price" [value]="product.price" step="0.01" min="0">
            <span matTextSuffix>€</span>
        </mat-form-field>
    </div>
    <div class="line">
        <mat-form-field>
            <mat-label>Catégorie</mat-label>
            <mat-select [(ngModel)]="product.category" [compareWith]="compareObjects">
                @for (category of categories; track $index) {
                    <mat-option [value]="category">
                        {{ category.name }}
                    </mat-option>
                }
            </mat-select>
        </mat-form-field>
        @if (product.category.id === 1) {
            <button mat-flat-button color="primary" style="height: 50px; width: 200px;" (click)="openRecipeDialog(product)">Recette</button>
        }
    </div>
    <div class="line">
        <mat-slide-toggle [(ngModel)]="product.available" color="accent" labelPosition="before">Disponible : </mat-slide-toggle>
        <button mat-icon-button color="warn" (click)="openDeleteDialog()"><mat-icon>delete</mat-icon></button>
    </div>
    <button mat-flat-button color="primary" (click)="updateProduct()" [disabled]="!checkUpdates()"><mat-icon matPrefix>save</mat-icon>Enregistrer les modifications</button>
</mat-card>